NODE_ENV=development
PORT=8080
LOG_LEVEL=info

# Comma-separated allowlist for browser clients (Vercel domains + localhost)
FRONTEND_ORIGINS=http://localhost:3000,https://servizephyr.com,https://www.servizephyr.com
CORS_ALLOW_CREDENTIALS=true

# Firebase Admin (set one of these)
FIREBASE_SERVICE_ACCOUNT_JSON=
FIREBASE_SERVICE_ACCOUNT_BASE64=

# Optional Upstash Redis (for cache)
KV_REST_API_URL=
KV_REST_API_TOKEN=
ENABLE_OPS_TELEMETRY=true
OPS_TELEMETRY_SAMPLE_RATE=1

# Migration mode:
# Any /api/* route not implemented in this backend will proxy to this URL.
# Example: https://servizephyr-main-app.vercel.app
LEGACY_API_BASE_URL=
ENABLE_LEGACY_PROXY=true
NEXT_PUBLIC_BASE_URL=
NEXT_PUBLIC_APP_URL=

# PhonePe (required for /api/payment/phonepe/* native routes)
PHONEPE_BASE_URL=
PHONEPE_AUTH_URL=
PHONEPE_CLIENT_ID=
PHONEPE_CLIENT_SECRET=
PHONEPE_CLIENT_VERSION=1
PHONEPE_WEBHOOK_USERNAME=
PHONEPE_WEBHOOK_PASSWORD=
INTERNAL_API_SECRET=

# Razorpay (required for /api/payment/create-order and /api/webhooks/razorpay)
NEXT_PUBLIC_RAZORPAY_KEY_ID=
RAZORPAY_KEY_SECRET=
RAZORPAY_WEBHOOK_SECRET=
ENABLE_NATIVE_RAZORPAY_WEBHOOK=false

# Google Maps (required for /api/location/* and /api/public/location/*)
GOOGLE_MAPS_API_KEY=
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=

# Cron security (required for /api/cron/cleanup-retention)
CRON_SECRET=

# Runtime tuning
REQUEST_TIMEOUT_MS=15000
CACHE_PUBLIC_BOOTSTRAP_TTL_SEC=60
CACHE_ORDER_STATUS_LITE_TTL_SEC=3
CACHE_ORDER_STATUS_FULL_TTL_SEC=30

# WebSocket
ENABLE_WEBSOCKETS=true
WEBSOCKET_PATH=/ws
